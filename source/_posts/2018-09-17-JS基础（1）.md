---
title: JS基础（1）
date: 2018-09-17 14:32:32
categories:
- javascript
tags:
---
## 变量

变量名可以任意取名，但要遵循命名规则:

    1.变量必须使用字母、下划线(_)或者美元符($)开始。

    2.然后可以使用任意多个英文字母、数字、下划线(_)或者美元符($)组成。

    3.不能使用JavaScript关键词与JavaScript保留字。

注意:

    1. 在JS中区分大小写，如变量mychar与myChar是不一样的，表示是两个变量。

    2. 变量虽然也可以不声明，直接使用，但不规范，需要先声明，后使用。
<!--more-->
## 输出

    `document.write()` 可用于直接在网页中输出内容。可以输出字符串或者html标签，标签使用""括起来。
    `alert()` 消息对话框，可用于弹出信息供用户确认，包含一个确定按钮。
    `confirm()` 消息对话框，包含一个 **确定** 按钮和 **取消** 按钮，点击确定返回true，点击取消返回false。
    `prompt()` 消息对话框，可用于询问用户信息，包含一个确定按钮、取消按钮和一个文本输入框，参数1表示提示内容，参数2表示默认值。点击确定按钮将文本框的内容返回，点击取消按钮返回null。

## DOM

文档对象模型DOM（Document Object Model）定义访问和处理HTML文档的标准方法。DOM 将HTML文档呈现为带有元素、属性和文本的树结构（节点树）。

三种常见的DOM节点:

    1. 元素节点：上图中<html>、<body>、<p>等都是元素节点，即标签。

    2. 文本节点:向用户展示的内容，如<li>...</li>中的JavaScript、DOM、CSS等文本。

    3. 属性节点:元素属性，如<a>标签的链接属性href="http://www.imooc.com"。

例如：
```html
  <a href="http://www.imooc.com">JavaScript DOM</a>
```

![](https://res.cloudinary.com/dlt4sbuqh/image/upload/v1537167080/52e4bdb80001064c04480196.jpg)

节点属性：
![](https://res.cloudinary.com/dlt4sbuqh/image/upload/v1537170730/5375c953000117ee05240129.jpg)

**nodeName**
节点的名称，是只读的。
    1. 元素节点的 nodeName 与标签名相同
    2. 属性节点的 nodeName 是属性的名称
    3. 文本节点的 nodeName 永远是 #text
    4. 文档节点的 nodeName 永远是 #document
**nodeType**
节点的类型，是只读的。

元素类型 | 节点类型
---- | ----
元素 |  1
属性 |  2
文本 |  3
注释 |  8
文档 |  9

**nodeValue**
节点的值
    1. 元素节点的 nodeValue 是 undefined 或 null
    2. 属性节点的 nodeValue 是属性的值
    3. 文本节点的 nodeValue 是文本自身

节点方法：
![](https://res.cloudinary.com/dlt4sbuqh/image/upload/v1537170731/53f17a6400017d2905230219.png)

注意：
1、语法：`node.childNodes|firstChild|lastChild|parentNode|nextSibling|previousSibling`
2、访问子节点childNodes，返回的值可以看作是一个`数组`，它具有length属性。

DOM操作：
![](https://res.cloudinary.com/dlt4sbuqh/image/upload/v1537170730/538d29da000152db05360278.png)

注意:
1. 前两个是document方法。
2. nodeObject.appendChild(newnode); newnode: 要插入的新节点
3. nodeObject.insertBefore(newnode, node); newnode: 要插入的新节点。node: 指定在此节点前插入节点。
4. nodeObject.removeChild(node); node: 必需，指定需要删除的节点。如删除成功，此方法可返回被删除的节点，如失败，则返回 NULL。
5. nodeObject.replaceChild(newnode, oldnew), 返回被替换对象的引用。


### createElement

`createElement()`创建元素节点，此方法可返回一个 Element 对象。

注意：要与`appendChild()` 或 `insertBefore()`方法联合使用，将元素显示在页面中，还可以使用`setAttribute()`来设置属
```html
<script type="text/javascript">
   var body = document.body;
   var input = document.createElement("input");  
   input.type = "button";  
   input.value = "创建一个按钮";
   input.setAttribute("onclick", "javascript:alert('This is a text!');");   
   body.appendChild(input);  
 </script>  
```
### createTextNode

`createTextNode(text)`创建新的文本节点，返回新创建的 Text 节点。
参数：
text : 字符串值，可规定此节点的文本。
```html
<script type="text/javascript">
  var node = document.createElement("p");
  node.className= "message";
  var text = document.createTextNode("I love Javascript!");
  node.appendChild(text);
  document.body.appendChild(node);
</script>
```



### getElementById

`getElementById()`通过ID获取元素，然后进行操作。获取的元素是一个对象，如想对元素进行操作，我们要通过它的属性或方法。

### getElementsByName

`getElementsByName()`通过元素的 name 属性查询元素。
注意:

    1. 因为文档中的 name 属性可能不唯一，所有 getElementsByName() 方法返回的是元素的数组，而不是一个元素。

    2. 和数组类似也有length属性，可以和访问数组一样的方法来访问，从0开始

### getElementsByTagName

`getElementsByTagName()`返回带有指定标签名的节点对象的集合(同上，返回类数组)。

![](https://res.cloudinary.com/dlt4sbuqh/image/upload/v1537171085/5405263300018bcf05760129.png)

注意：方法区分大小写

### getAttribute

`getAttribute()`通过元素节点的`属性名称`获取属性的值。

    elementNode.getAttribute(name)

说明:

    1. elementNode：使用getElementById()、getElementsByTagName()等方法，获取到的元素节点。

    2. name：要想查询的元素节点的属性名字，例如：title、href、src、type

### setAttribute

`setAttribute()`方法增加一个指定名称和值的新属性，或者把一个现有的属性设定为指定的值。

    elementNode.setAttribute(name,value)
说明：
    1.name: 要设置的属性名。

    2.value: 要设置的属性值。

注意：

1.把指定的属性设置为指定的值。如果不存在具有指定名称的属性，该方法将创建一个新属性。

2.类似于getAttribute()方法，setAttribute()方法只能通过元素节点对象调用的函数。

### innerHTML

innerHTML 属性用于`获取`或`替换` HTML 元素的内容。注意书写，innerHTML区分大小写。
```js
  var node = document.getEleentById('testId');
  console.log(node.innerHTML); // 获取元素旧内容
  node.innerHTML = 'Hello World!'; // 替换元素内容
  console.log(node.innerHTML); // 获取元素旧内容
```

### 改变HTML样式

HTML DOM 允许 JavaScript 改变 HTML 元素的样式。

    Object.style.property=new style;

基本属性表（列举一小部分）:
![](https://res.cloudinary.com/dlt4sbuqh/image/upload/v1537167545/52e4d4240001dd6c04850229.jpg)

    隐藏元素：obj.style.display="none";
    显示元素：obj.style.display="block";

### 控制类名

className 属性`设置`或`返回`元素的class 属性。

    // 设置类名
    object.className = classname
    // 获取类名
    console.log(object.className)

## 操作符

操作符之间的优先级（高到低）:

    `算术操作符` → `比较操作符` → `逻辑操作符` → `"="赋值符号`

如果`同级`的运算是按`从左到右`次序进行,`多层括号由里向外`。

## 数组

创建数组

    var arr=new Array();
    var arr= new Array(8); // 创建数组的同时，还可以为数组指定长度

注意：
1.创建的新数组是空数组，没有值，如输出，则显示undefined。
2.虽然创建数组时，指定了长度，但实际上数组都是变长的，也就是说即使指定了长度为8，仍然可以将元素存储在规定长度以外。
3.数组每个值有一个索引号，从0开始。
4.数组length属性获取数组的长度，JavaScript数组的length属性是可变的，这一点需要特别注意。

    arr.length=10; //增大数组的长度
    document.write(arr.length); //数组长度已经变为10

数组方法：
![](https://res.cloudinary.com/dlt4sbuqh/image/upload/v1537169862/533295ab0001dead05190599.png)

## 事件响应

    onclick：鼠标单击事件
    onmouseover：鼠标经过事件
    onmouseout：鼠标移出事件
    onfocus：光标聚焦事件
    onblur：光标失焦事件
    onselect：内容选中事件
    onchange：文本框内容改变事件
    onload：加载事件，加载页面时，触发onload事件，事件写在<body>标签内

```html
<body onload="message()">
  欢迎学习JavaScript。
  <script type="text/javascript">
    function message(){
      alert("加载中，请稍等…"); }
  </script>
</body>
```

## 字符串对象

  属性：

    length： 表示字符串长度

  方法：
  
    str.toUpperCase()：将字符串小写字母转换为大写字母
    charAt(index)：返回指定位置的字符，下标从0开始
    indexOf(substring, startPos )：返回指定的字符串首次出现的位置，如果要检索的字符串值没有出现，则该方法返回 -1。参数2表示从哪个位置开始查找。
    split(separator)：根据separator将字符串分割为字符串数组，并返回此数组。如果用空字符串当做分隔符，那么每个字符都会被分割。
    substring(start, end)：截取从start开始，到end-1处的字符串。如果start比end大，那么该方法在提取子串之前会先交换这两个参数。
    substr(start, length)：从字符串中提取从 startPos位置开始的指定长度的字符串。

## 浏览器对象

window对象的方法：
![](https://res.cloudinary.com/dlt4sbuqh/image/upload/v1537170308/535483720001a54506670563.jpg)

## 定时器

`setTimeout(func, delay)`: 指定的延迟时间之后触发一次
`clearTimeout()`: 清除定时器
`setInterval(func, ms)`: 每隔一定的时间间隔就触发一次。
`clearInterval()`: 清除定时器

## Location对象
![](https://res.cloudinary.com/dlt4sbuqh/image/upload/v1537170308/53605c5a0001b26909900216.png)

属性：
![](https://res.cloudinary.com/dlt4sbuqh/image/upload/v1537170308/5354b1d00001c4ec06220271.jpg)

方法：
![](https://res.cloudinary.com/dlt4sbuqh/image/upload/v1537170307/5354b1eb00016a2405170126.jpg)

## 屏幕宽高

    网页可见区域宽： document.body.clientWidth;
    网页可见区域高： document.body.clientHeight;
    网页可见区域宽： document.body.offsetWidth   (包括边线的宽);
    网页可见区域高： document.body.offsetHeight  (包括边线的高);
    网页正文全文宽： document.body.scrollWidth;
    网页正文全文高： document.body.scrollHeight;

    网页被卷去的高： document.body.scrollTop;
    网页被卷去的左： document.body.scrollLeft;
    网页正文部分上： window.screenTop;
    网页正文部分左： window.screenLeft;

    屏幕分辨率的高： window.screen.height;
    屏幕分辨率的宽： window.screen.width;
    屏幕可用工作区高度： window.screen.availHeight;
    屏幕可用工作区宽度：window.screen.availWidth;

![](https://res.cloudinary.com/dlt4sbuqh/image/upload/v1537176447/WX20180917-172658_2x.png)
